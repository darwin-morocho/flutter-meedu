<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Flutter - Meedu Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Flutter - Meedu Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Flutter - Meedu" href="/opensearch.xml"><title data-react-helmet="true">StateNotifier | Flutter - Meedu</title><meta data-react-helmet="true" property="og:url" content="https://flutter.meedu.app/docs/state-management/state-notifier"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="StateNotifier | Flutter - Meedu"><meta data-react-helmet="true" name="description" content="Consider the following straightforward example of a typical counter app."><meta data-react-helmet="true" property="og:description" content="Consider the following straightforward example of a typical counter app."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://flutter.meedu.app/docs/state-management/state-notifier"><link data-react-helmet="true" rel="alternate" href="https://flutter.meedu.app/docs/state-management/state-notifier" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://flutter.meedu.app/docs/state-management/state-notifier" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.878bc751.css">
<link rel="preload" href="/assets/js/runtime~main.094ad5ee.js" as="script">
<link rel="preload" href="/assets/js/main.e1215da4.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="Flutter Meedu" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="Flutter Meedu" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title"></strong></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Docs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__item navbar__link"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/docs/state-management/state-notifier" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">English</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/docs/intro">9.0.7</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/state-management/state-notifier">9.0.7</a></li><li><a class="dropdown__link" href="/docs/8.x.x/state-management/state-notifier">8.5.0</a></li><li><a class="dropdown__link" href="/docs/7.x.x/state-management/state-notifier">7.2.0</a></li><li><a class="dropdown__link" href="/docs/6.x.x/state-management/state-notifier">6.2.3</a></li><li><a class="dropdown__link" href="/docs/5.x.x/state-management/state-notifier">5.3.0</a></li><li><a class="dropdown__link" href="/docs/4.x.x/intro">4.4.1</a></li><li><a class="dropdown__link" href="/docs/3.x.x/intro">3.x.x</a></li></ul></div><a href="https://github.com/darwin-morocho/flutter-meedu" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><a href="https://github.com/darwin-morocho/flutter-meedu/tree/master/examples" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Examples</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="Flutter Meedu" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="Flutter Meedu" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/intro">Docs</a></li><li class="menu__list-item menu__list-item--collapsed"><a href="#" role="button" class="menu__link menu__link--sublist"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>Languages</span></span></a><ul class="menu__list"><li class="menu__list-item"><a href="/docs/state-management/state-notifier" target="_self" rel="noopener noreferrer" class="menu__link dropdown__link--active" style="text-transform:capitalize">English</a></li></ul></li><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/state-management/state-notifier">9.0.7</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/8.x.x/state-management/state-notifier">8.5.0</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/7.x.x/state-management/state-notifier">7.2.0</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/6.x.x/state-management/state-notifier">6.2.3</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/5.x.x/state-management/state-notifier">5.3.0</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/4.x.x/intro">4.4.1</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.x.x/intro">3.x.x</a></li></ul></li><li class="menu__list-item"><a href="https://github.com/darwin-morocho/flutter-meedu" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a href="https://github.com/darwin-morocho/flutter-meedu/tree/master/examples" target="_blank" rel="noopener noreferrer" class="menu__link">Examples</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro">What is meedu?</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">State Management</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/state-management/state-notifier">StateNotifier</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/state-management/inmutable-states">Inmutable States</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/state-management/filters">Avoid rebuilds using filters</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/state-management/bloc-pattern">BLoC pattern</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/state-management/working-with-arguments">Working with arguments</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/state-management/working-with-tags">Working with tags</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/state-management/listen-when-a-provider-dispose-a-notifier">Listen when a provider has disposed a Notifier</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/state-management/testing">Testing</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/hooks">Hooks</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/dependency-injection">Dependency Injection</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/persistent-state">Persistent state</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/reactive-programming">Reactive programming</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/screen-utils">Screen Utils</a></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div><span class="badge badge--secondary">Version: 9.0.7</span></div><header><h1 class="docTitle_3a4h">StateNotifier</h1></header><div class="markdown"><p>Consider the following straightforward example of a typical counter app.</p><p>First, create a class that extends of <strong><code>StateNotifier</code></strong> and define the data type to be used for your state. In this example, we will use an <strong><code>int</code></strong> to represent the state of our counter app.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><div tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">import &#x27;package:flutter_meedu/notifiers.dart&#x27;;// import the StateNotifer class</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">class CounterNotifier extends StateNotifer&lt;int&gt;{</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  CounterNotifier(super.initialState); // the super class StateNotifer needs a initial state value</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  void increment(){</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    state++;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Now you need to create a provider for our <strong><code>CounterNotifier</code></strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><div tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">import &#x27;package:flutter_meedu/providers.dart&#x27;;// import the StateNotifierProvider class</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">final counterProvider = Provider.state&lt;CounterNotifier, int&gt;(</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  (_) =&gt; CounterNotifier(0), // pass the initial state value when we create a CounterNotifier</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>As you may have noticed, we declare our <strong><code>counterProvider</code></strong> as a global variable. Don&#x27;t worry; Meedu is fully compatible with testing.</p><p>With this setup, we can now easily listen to and update our counter within our views using the <strong><code>Consumer</code></strong> widget.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><div tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">import &#x27;package:flutter/material.dart&#x27;;</span></div><div class="token-line docusaurus-highlight-code-line" style="color:#F8F8F2"><span class="token plain">import &#x27;package:flutter_meedu/consumer.dart&#x27;; // import the consumer widget</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">class CounterView extends StatelessWidget {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  const CounterView({Key? key}) : super(key: key);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  @override</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  Widget build(BuildContext context) {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    return Scaffold(</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      body: Center(</span></div><div class="token-line docusaurus-highlight-code-line" style="color:#F8F8F2"><span class="token plain">        child: Consumer(</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">          builder: (context, ref, child){</span></div><div class="token-line docusaurus-highlight-code-line" style="color:#F8F8F2"><span class="token plain">            final notifier =  ref.watch(counterProvider); // listen the state changes in our CounterNotifier</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            return Text(&quot;${notifier.state}&quot;);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">          },</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        ),</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      ),</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      floatingActionButton: FloatingActionButton(</span></div><div class="token-line docusaurus-highlight-code-line" style="color:#F8F8F2"><span class="token plain">        onPressed: () =&gt; counterProvider.read().increment(), // update the CounterNotifier state and rebuild the Consumer widget.</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      ),</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    );</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>By default, our <code>counterProvider</code> does not create an instance of <code>CounterNotifier</code> until it is needed. In this scenario, the <code>Consumer</code> widget calls the <code>read</code> function of our <code>counterProvider</code> to check if an instance of <code>CounterNotifier</code> has been previously created and associated with our <code>counterProvider</code>. If not, it creates a new instance of <code>CounterNotifier</code> and associates it with our <code>counterProvider</code>.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>important</h5></div><div class="admonition-content"><p>Inside the <code>Consumer</code> widget, we use <code>ref.watch(...)</code> to create or retrieve our instance of <code>CounterNotifier</code>. This action also establishes a subscriber for state changes. As a result, our <code>Consumer</code> will be rebuilt every time the state of our <code>CounterNotifier</code> instance changes.</p><p>When the <code>Consumer</code> widget is destroyed, all subscribers created by it are removed from our <code>CounterNotifier</code> instance.</p><p>Note: By default, when a <code>StateNotifier</code> loses all its subscribers, the <code>dispose</code> function of <code>StateNotifierProvider</code> will be called, and our <code>CounterNotifier</code> instance will also be disposed.</p><p>You can disable the autoDispose feature using <code>autoDispose: false</code> when we create our provider.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><div tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">final counterProvider = Provider.state&lt;CounterNotifier, int&gt;(</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  (_) =&gt; CounterNotifier(0),</span></div><div class="token-line docusaurus-highlight-code-line" style="color:#F8F8F2"><span class="token plain">  autoDispose: false, // disable the autoDispose feature</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Keep in mind that when you disable the autoDispose feature, you must release all resources and the StateNotifier linked to our providers by calling the dispose function.
For example you can use a StatefulWidget</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><div tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">class MyWidget extends StatefulWidget {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  const MyWidget({super.key});</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  @override</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  State&lt;MyWidget&gt; createState() =&gt; _MyWidgetState();</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">class _MyWidgetState extends State&lt;MyWidget&gt; {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  @override</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  void dispose() {</span></div><div class="token-line docusaurus-highlight-code-line" style="color:#F8F8F2"><span class="token plain">    counterProvider.dispose(); // all resources and the StateNotifier linked to our provider</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    super.dispose();</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  @override</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  Widget build(BuildContext context) {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    return YOUR_CODE;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The <code>Consumer</code> widget has an optional parameter called <code>child</code>. This can be used to cache a widget and prevent unnecessary rebuilds of this widget inside the Consumer.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><div tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">Consumer(</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  builder: (_, ref, myCachedWidget){</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    final notifier =  ref.watch(counterProvider); // listen the state changes in our CounterNotifier</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    return Column(</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      children:[</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">         Text(&quot;${notifier.state}&quot;),</span></div><div class="token-line docusaurus-highlight-code-line" style="color:#F8F8F2"><span class="token plain">         myCachedWidget!, // the widget passed in the child parameter</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      ],</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    );</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  },</span></div><div class="token-line docusaurus-highlight-code-line" style="color:#F8F8F2"><span class="token plain">  child: SomeWidget(),</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="what-about-testing"></a>What about testing?<a class="hash-link" href="#what-about-testing" title="Direct link to heading">#</a></h2><p>This is very simple. Before or after each test you will need the default state of all StateNotifier. So you can use <code>ProvidersContainer.clear()</code> to clear and reset all providers.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly dart"><div tabindex="0" class="prism-code language-dart codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">import &#x27;package:flutter_meedu/providers.dart&#x27;;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">import &#x27;package:flutter/material.dart&#x27;;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">import &#x27;package:flutter_test/flutter_test.dart&#x27;;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">void main() {</span></div><div class="token-line docusaurus-highlight-code-line" style="color:#F8F8F2"><span class="token plain">  setUp(ProvidersContainer.clear);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  testWidgets(</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    &#x27;StateController test&#x27;,</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    (test) async {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      await test.pumpWidget(</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        const MaterialApp(</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">          home: CounterView(),</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        ),</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      );</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      expect(find.text(&quot;0&quot;), findsOneWidget);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      await test.tap(find.byType(FloatingActionButton));</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      await test.pump();</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      expect(find.text(&quot;1&quot;), findsOneWidget);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    },</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  );</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/darwin-morocho/flutter-meedu/edit/master/website/docs/state-management/state-notifier.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2023-10-18T22:06:17.000Z" class="lastUpdatedDate_1WI_">10/18/2023</time> by <strong>darwin-morocho</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« What is meedu?</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/state-management/inmutable-states"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Inmutable States Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-about-testing" class="table-of-contents__link">What about testing?</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 FLUTTER MEEDU. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.094ad5ee.js"></script>
<script src="/assets/js/main.e1215da4.js"></script>
</body>
</html>